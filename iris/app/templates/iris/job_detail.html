{% extends 'iris/base.html' %}

{% load i18n %}

{% block content %}
<h1 class="container-fluid fs-6 p-2 bg-light border">{% blocktranslate with job_name=object %}Details for job {{ job_name }}{% endblocktranslate %}</h1>
<div class="container mt-4">
	{% if object.completed %}
	<div class="card border-success">
	{% elif object.delayed %}
	<div class="card border-warning">
	{% elif object.suspended %}
	<div class="card border-danger">
	{% elif object.canceled %}
	<div class="card border-danger">
	{% else %}
	<div class="card">
	{% endif %}
		<div class="card-header">
			<h5 class="card-title">{{ object.task.name }}</h5>
			{% if object.work.quantity != 1 %}<h6 class="card-subtitle mb-2 text-muted">{% blocktranslate with quantity=object.work.quantity %}{{ quantity }} times{% endblocktranslate %}</h6>{% endif %}
		</div>
		<ul class="list-group list-group-flush">
			<li class="list-group-item">{{ object.work }}</li>
			{% if object.task.instructions %}
			<li class="list-group-item">{{ object.task.instructions }}</li>
			{% else %}
			<li class="list-group-item">{% translate "No instructions." %}</li>
			{% endif %}
		</ul>
		{% if object.completed %}
		<div class="card-footer text-success">{% translate "This job has been completed." %}</div>
		{% elif object.delayed %}
		<div class="card-footer text-dark text-warning">{% translate "This job is delayed." %}</div>
		{% elif object.suspended %}
		<div class="card-footer text-danger">{% translate "This job is suspended." %}</div>
		{% elif object.canceled %}
		<div class="card-footer text-danger">{% translate "This job has been canceled." %}</div>
		{% else %}
		<div class="card-footer">
			<a class="btn btn-success" href="{% url 'iris:commit_add' %}?job={{ object.pk }}">{% translate "Commit" %}</a>
			<a class="btn btn-warning" href="{% url 'iris:delay_add' %}?job={{ object.pk }}">{% translate "Delay" %}</a>
			<a class="btn btn-danger" href="{% url 'iris:suspension_add' %}?job={{ object.pk }}">{% translate "Suspend" %}</a>
		</div>
		{% endif %}
	</div>
</div>
{% endblock %}
