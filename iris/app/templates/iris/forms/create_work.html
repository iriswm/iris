{% extends 'iris/base.html' %}

{% load i18n %}

{% block iris_title %}{% block iris_header %}{% translate "Create a new work" %}{% endblock %}{% endblock %}

{% block content %}
<div class="container-sm mt-4 p-4">
	<form method="post">
		{% csrf_token %}
		<input type="hidden" id="next_url" value="{{ next_url }}">
		{% if form.non_field_errors %}
		<ul class="mb-3 row text-danger">
			{% for error in form.non_field_errors %}
			<li>{{ error }}</li>
			{% endfor %}
		</ul>
		{% endif %}
		<div class="mb-3 row">
			<div class="col">
				<label class="form-label fw-bold" for="id_category">{% translate "Category" %}</label>
				<select class="form-select" name="category" id="id_category" required="">
					<option selected="" value="0">{% translate "Select a category" %}</option>
					{% for category in categories %}
					<option value="{{ category.pk }}">{{ category.name }}</option>
					{% endfor %}
				</select>
				{% if form.category.errors %}
				<ul class="text-danger">
					{% for error in form.category.errors %}
					<li>{{ error }}</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>
		</div>
		<div class="mb-3 row">
			<div class="col">
				<label class="form-label" for="id_quantity">{% translate "Quantity" %}</label>
				<input class="form-control" type="number" name="quantity" id="id_quantity" value="{{ form.quantity.initial }}">
				{% if form.quantity.errors %}
				<ul class="text-danger">
					{% for error in form.quantity.errors %}
					<li>{{ error }}</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>
		</div>
		<div class="mb-3 row">
			<div class="col">
				<label for="id_description" class="form-label">{% translate "Description" %}</label>
				<input type="text" id="id_description" name="description" class="form-control" value="{{ object.description }}">
				{% if form.description.errors %}
				<ul class="text-danger">
					{% for error in form.description.errors %}
					<li>{{ error }}</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>
		</div>
		<div class="mb-3 row">
			<div class="col">
				<label for="id_notes" class="form-label">{% translate "Notes" %}</label>
				<textarea id="id_notes" name="notes" class="form-control" rows="10">{{ object.notes }}</textarea>
				{% if form.notes.errors %}
				<ul class="text-danger">
					{% for error in form.notes.errors %}
					<li>{{ error }}</li>
					{% endfor %}
				</ul>
				{% endif %}
			</div>
		</div>
		<div>
			<button type="submit" class="btn btn-primary w-100">{% translate "Save changes" %}</button>
		</div>
	</form>
</div>
{% endblock %}
